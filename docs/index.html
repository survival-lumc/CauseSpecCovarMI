<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multiple imputation for cause-specific Cox models • CauseSpecCovarMI</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Multiple imputation for cause-specific Cox models">
<meta property="og:description" content="Directory for R code of the multiple imputation for 
  cause-specific Cox proportional hazards models project.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">CauseSpecCovarMI</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Supplement
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/data-generation.html">Generating simulated data</a>
    </li>
    <li>
      <a href="articles/performance-measures.html">Performance measures</a>
    </li>
    <li>
      <a href="articles/regr-results-full.html">Full results: regression coefficients</a>
    </li>
    <li>
      <a href="articles/preds-results-full.html">Full results: predictions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/survival-lumc/CauseSpecCovarMI">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="multiple-imputation-for-cause-specific-cox-models-assessing-methods-for-estimation-and-prediction" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#multiple-imputation-for-cause-specific-cox-models-assessing-methods-for-estimation-and-prediction" class="anchor"></a>Multiple imputation for cause-specific Cox models: assessing methods for estimation and prediction</h1></div>
<p>Direct access supplementary material II: <a href="https://survival-lumc.github.io/CauseSpecCovarMI/">https://survival-lumc.github.io/CauseSpecCovarMI/</a></p>
<div id="abstract" class="section level2">
<h2 class="hasAnchor">
<a href="#abstract" class="anchor"></a>Abstract</h2>
<p>In studies analyzing competing time-to-event outcomes, interest often lies in both estimating the effects of baseline covariates on the cause-specific hazards, and predicting cumulative incidence functions. When missing values occur in these baseline covariates, they may be discarded as part of a complete case analysis (CCA) or multiply imputed. In the latter case, the imputations may be performed either compatibly with a substantive model pre-specified as a cause-specific Cox model (SMC-FCS), or approximately so (MICE). In a large simulation study, we assessed the performance of these three different methods in terms of estimating cause-specific regression coefficients and predicting cumulative incidence functions. Concerning regression coefficients, results provide further support for use of SMC-FCS over MICE, particularly when covariate effects are large and the baseline hazards of the competing events are substantially different. CCA also shows adequate performance in settings where missingness is not outcome-dependent. With regard to cumulative incidence prediction, SMC-FCS and MICE showed more similar performance, as also evidenced in the illustrative analysis of competing outcomes following a hematopoietic stem cell transplantation. The findings are discussed alongside recommendations for practising statisticians.</p>
</div>
<div id="supplementary-material-ii---individual-articles" class="section level2">
<h2 class="hasAnchor">
<a href="#supplementary-material-ii---individual-articles" class="anchor"></a>Supplementary material II - individual articles</h2>
<ul>
<li><a href="https://survival-lumc.github.io/CauseSpecCovarMI/articles/data-generation.html">Generating simulated data</a></li>
<li><a href="https://survival-lumc.github.io/CauseSpecCovarMI/articles/performance-measures.html">Performance measures</a></li>
<li><a href="https://survival-lumc.github.io/CauseSpecCovarMI/articles/regr-results-full.html">Full results: regression coefficients</a></li>
<li><a href="https://survival-lumc.github.io/CauseSpecCovarMI/articles/preds-results-full.html">Full results: predictions</a></li>
</ul>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="general" class="section level3">
<h3 class="hasAnchor">
<a href="#general" class="anchor"></a>General</h3>
<p>This project is set-up as an <a href="https://github.com/ropensci/rrrpkg">R-package compendium</a>, with the following structure:</p>
<pre><code>.
├── R                     # User-made functions
├── analysis              # Scripts for illustrative analysis
│   ├── figures           # Manuscript figures
│   └── simulations       # Scripts to run simulation study
├── data                  # Full and processed simulation data/synthetic MDS data
│   └── sim-reps_indiv    # Individual simulation replications
│       ├── preds
│       └── regr
├── data-raw              # Scripts for processing raw data
├── man                   # Documentation user-made functions
└── vignettes             # Supplementary manuscript results</code></pre>
<p>The <code>vignettes</code> directory contains the supplementary material from the manuscript, and is rendered here (add link) using <a href="https://pkgdown.r-lib.org/"><code>pkgdown</code></a>.</p>
<p>To reproduce results from the manuscript, first install the package and its dependencies using</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"survival-lumc/CauseSpecCovarMI"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>You can then clone the directory using <code>git clone https://github.com/survival-lumc/CauseSpecCovarMI.git</code> , and set your RStudio working directory to the home of this repository (you can make use the included R project file).</p>
</div>
<div id="reproducing-the-simulation-study" class="section level3">
<h3 class="hasAnchor">
<a href="#reproducing-the-simulation-study" class="anchor"></a>Reproducing the simulation study</h3>
<p>The simulation study was run on a computer cluster using a <a href="https://slurm.schedmd.com/documentation.html">SLURM</a> scheduler. If you have access to such a scheduler, you should install the package and clone the directory on the cluster first, and then run (from the home directory)</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sbatch</span> analysis/simulations/all-simulations.sh </span></code></pre></div>
<p>The above will run each replication of each scenario, and for each replication will save two <code>.rds</code> files (one for regression coefficients, another for the predictions) containing the results to the <code>data/sim-reps_indiv/</code>. To summarise all of these, you can run</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sbatch</span> analysis/simulations/summarise-simulations.sh</span></code></pre></div>
<p>This will produce four files, which represent the full and summarised results for both the regression coefficient results and those for the predictions:</p>
<ul>
<li><code>data/sims_regr_full.fst</code></li>
<li><code>data/sims_regr_summary.fst</code></li>
<li><code>data/sims_preds_full.fst</code></li>
<li><code>data/sims_preds_summary.fst</code></li>
</ul>
<p>The summarised data is available directly in the package and is accessed using <code><a href="reference/regr_results.html">CauseSpecCovarMI::regr_results</a></code> and <code><a href="reference/preds_results.html">CauseSpecCovarMI::preds_results</a></code>. Due to the size of the full result datafiles, there are available upon request from the corresponding author (such that one does not need to run the entire simulation study again, which would take in the order of days).</p>
<p>Should you want to replicate one replication of one scenario locally (for example the 10th replication of scenario 3), you can run</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> analysis/simulations/run-simulation.R 3 10</span></code></pre></div>
<p>The scenarios (and their numbers/parameters) are contained in <code>data/scenarios.rds</code>.</p>
</div>
<div id="reproducing-manuscript-figures-simulation-study-sections" class="section level3">
<h3 class="hasAnchor">
<a href="#reproducing-manuscript-figures-simulation-study-sections" class="anchor"></a>Reproducing manuscript figures (simulation study sections)</h3>
<p>The figures can be reproduced locally by running</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> analysis/simulations/manuscript-figures-simulations.R</span></code></pre></div>
</div>
<div id="reproducing-illustrative-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#reproducing-illustrative-analysis" class="anchor"></a>Reproducing illustrative analysis</h3>
<p>The original dataset on which the illustrative analysis was performed could not be shared, however a synthetic version is provided in the package as <code>CauseSpecCovarMI::da</code>. This will yield similar results after the imputation procedure, but not comparable for complete-case analysis. On a cluster using SLURM, you can run</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sbatch</span> analysis/run-illustrative-analysis.sh</span></code></pre></div>
<p>This will make use of 10 cores to run the 100 imputations (with 25 iterations) from both <code>mice()</code> and <code>smcfcs()</code> in parallel.</p>
<p>It can also be run locally by first changing the number of cores in <code>analysis/illustrative-analysis.R</code> , and then</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Rscript analysis<span class="sc">/</span>illustrative<span class="sc">-</span>analysis.R</span></code></pre></div>
</div>
</div>
<div id="authors" class="section level2">
<h2 class="hasAnchor">
<a href="#authors" class="anchor"></a>Authors</h2>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Affiliation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://www.lumc.nl/org/bds/medewerkers/1968807?setlanguage=English&amp;setcountry=en">Edouard F. Bonneville</a></td>
<td>Leiden University Medical Center (Leiden, NL)</td>
</tr>
<tr class="even">
<td><a href="https://www.researchgate.net/scientific-contributions/Matthieu-Resche-Rigon-56101026">Matthieu Resche-Rigon</a></td>
<td>Paris Diderot University / Saint Louis Hospital (Paris, FR)</td>
</tr>
<tr class="odd">
<td><a href="https://www.researchgate.net/scientific-contributions/Johannes-Schetelig-38769437">Johannes Schetelig</a></td>
<td>Universitätsklinikum Dresden / DKMS Clinical Trials Unit (Dresden, DE)</td>
</tr>
<tr class="even">
<td><a href="https://www.lumc.nl/org/bds/medewerkers/hputter?setlanguage=English&amp;setcountry=en">Hein Putter</a></td>
<td>Leiden University Medical Center (Leiden, NL)</td>
</tr>
<tr class="odd">
<td><a href="https://www.lumc.nl/org/bds/medewerkers/lcdewreede?setlanguage=English&amp;setcountry=en">Liesbeth C. de Wreede</a></td>
<td>Leiden University Medical Center (Leiden, NL)</td>
</tr>
</tbody>
</table>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Edouard F. Bonneville <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-7542-4498" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Matthieu Resche-Rigon <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-2220-5085" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Johannes Schetelig <br><small class="roles"> Author </small>  </li>
<li>Hein Putter <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-5395-1422" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Liesbeth C. de Wreede <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Edouard F. Bonneville, Matthieu Resche-Rigon, Johannes Schetelig, Hein Putter, Liesbeth C. de Wreede.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
