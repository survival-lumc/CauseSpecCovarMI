<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Performance measures • CauseSpecCovarMI</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Performance measures">
<meta property="og:description" content="CauseSpecCovarMI">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CauseSpecCovarMI</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Supplement
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data-generation.html">Generating simulated data</a>
    </li>
    <li>
      <a href="../articles/performance-measures.html">Performance measures</a>
    </li>
    <li>
      <a href="../articles/regr-results-full.html">Full results: regression coefficients</a>
    </li>
    <li>
      <a href="../articles/preds-results-full.html">Full results: predictions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/survival-lumc/CauseSpecCovarMI">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="performance-measures_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Performance measures</h1>
            
      
      
      <div class="hidden name"><code>performance-measures.Rmd</code></div>

    </div>

    
    
<p>Recall that the analysis models of interest were the cause-specific Cox proportional hazards models for relapse (REL) and non-relapse mortality (NRM), <span class="math inline">\(h_k(t \vert X, Z) = h_{k0}(t)\exp(\beta_k X + \gamma_k Z)\)</span> for <span class="math inline">\(k = \{1,2\}\)</span>. We then had two main sets of estimands of interest:</p>
<ul>
<li>
<span class="math inline">\(\theta_{\text{regr}} = \{\beta_1,\gamma_1,\beta_2,\gamma_2\}\)</span>, which are the data-generating regression coefficients from both cause-specific Cox models.</li>
<li>
<span class="math inline">\(\theta_{\text{pred}}\)</span>, which is a vector containing the REL and NRM probabilities (cumulative incidences) for a set of reference patients at 6 months, 5 years and 10 years after baseline.</li>
</ul>
<p>Define <span class="math inline">\(j = 1,2,...,n_{\text{sim}}\)</span> simulation replications, which begin by simulating an independent dataset for each <span class="math inline">\(j\)</span> according to some parametrisation, defined by a scenario. In our notation, we suppress <span class="math inline">\(l = 1,2,...,L\)</span> corresponding to the simulation scenarios.</p>
<div id="regression-coefficients" class="section level1">
<h1 class="hasAnchor">
<a href="#regression-coefficients" class="anchor"></a>1 Regression coefficients</h1>
<p>Let <span class="math inline">\(\theta\)</span> represent an element of <span class="math inline">\(\theta_{\text{regr}}\)</span>. At each simulation replication, <span class="math inline">\(M\)</span> imputed datasets are created for each of the four imputation-based methods described in section 5.3 of the paper. In each of these <span class="math inline">\(M\)</span> datasets, both cause-specific Cox models are fit. The regression coefficients and their standard errors are then pooled according to Rubin’s rules - yielding a vector <span class="math inline">\(\boldsymbol{\hat{\theta}_{j}} = [\hat{\theta}_{j}, \ \widehat{\text{SE}}(\hat{\theta}_{j})]\)</span>. For the complete case analysis, <span class="math inline">\(\boldsymbol{\hat{\theta}_{j}}\)</span> simply contains the estimated coefficient and standard error from the models fit on the complete-cases (no pooling involved). We then define the performance measures as follows:</p>
<p><em>Mean</em>: <span class="math display">\[
\hat{\theta} = \frac{1}{n_{\text{sim}}} \sum_{j = 1}^{n_{\text{sim}}} \hat{\theta}_j
\]</span></p>
<p><em>Standard error</em>: <span class="math display">\[
\widehat{\text{SE}}(\hat{\theta}) = \frac{1}{n_{\text{sim}}} \sum_{j = 1}^{n_{\text{sim}}} \widehat{\text{SE}}(\hat{\theta}_j)
\]</span></p>
<p><em>Empirical standard error</em>:<br><span class="math display">\[
\widehat{\text{EmpSE}}(\hat{\theta}) = \sqrt{\frac{1}{n_{\text{sim}} - 1} \sum_{j = 1}^{n_{\text{sim}}} (\hat{\theta}_j - \hat{\theta})^2}
\]</span></p>
<p><em>Bias</em>: <span class="math display">\[
\widehat{\text{Bias}}(\hat{\theta}) = \frac{1}{n_{\text{sim}}} \sum_{j = 1}^{n_{\text{sim}}} \hat{\theta}_j - \theta
\]</span></p>
<p><em>Coverage</em>: <span class="math display">\[
\widehat{\text{Cov}}(\hat{\theta}) = \frac{1}{n_{\text{sim}}} \sum_{j = 1}^{n_{\text{sim}}} \mathbf{1}\{ \hat{\theta}_{\text{low},j} &lt; \theta &lt; \hat{\theta}_{\text{upp},j} \}
\]</span> where the bounds of the 95% confidence interval <span class="math inline">\(\hat{\theta}_{\text{low},j}\)</span> and <span class="math inline">\(\hat{\theta}_{\text{upp},j}\)</span> are computed as <span class="math inline">\(\hat{\theta}_{j} \pm z_{\alpha/2} \times \widehat{\text{SE}}(\hat{\theta}_{j})\)</span> for the complete-case analysis, whereas for the imputation methods they are based on the <span class="math inline">\(t\)</span> distribution - see <a href="https://github.com/amices/mice/blob/cece48ab1580d23f9435dcaee7aee79abec58c0d/R/mipo.R#L153">confint.mipo</a>.</p>
<p><em>Root mean square error</em>: <span class="math display">\[
\widehat{\text{RMSE}}(\hat{\theta}) = \sqrt{\frac{1}{n_{\text{sim}} - 1} \sum_{j = 1}^{n_{\text{sim}}} (\hat{\theta}_j - \theta)^2}
\]</span></p>
<p>Monte Carlo standard errors for all measures except RMSE were computed as per the formulas in the tutorial by <span class="citation">Morris, White, and Crowther (2019)</span>. The Monte Carlo standard error for the RMSE was computed by using the approximate jackknife estimator implemented in the <code>{simhelpers}</code> package - see the relevant <a href="https://cran.r-project.org/web/packages/simhelpers/vignettes/MCSE.html">vignette</a>.</p>
</div>
<div id="predictions" class="section level1">
<h1 class="hasAnchor">
<a href="#predictions" class="anchor"></a>2 Predictions</h1>
<p>To obtain the predicted probabilities when using the imputation methods, the cause-specific models fitted in each imputed dataset are used to create  predictions, which are then pooled using Rubin’s rules. For computational reasons, standard errors were not recorded, and so the pooling simply involved averaging the probabilities across imputed datasets. Letting <span class="math inline">\(\theta\)</span> instead represent an element of <span class="math inline">\(\theta_{\text{pred}}\)</span>, the pooled probability at replication <span class="math inline">\(j\)</span> of a simulation scenario is defined as</p>
<p><span class="math display">\[
\hat{\theta}_j = \frac{1}{M} \sum_{m=1}^M \hat{\theta}_m,
\]</span> where <span class="math inline">\(\hat{\theta}_m\)</span> is the predicted probability obtained in the <span class="math inline">\(m^{\text{th}}\)</span> imputed dataset.</p>
<p>The performance measures for the predicted probabilities are the same as those outlined in the previous section, with the exceptions of <em>Standard error</em> and <em>Coverage</em> (since they were not recorded).</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-morrisUsingSimulationStudies2019" class="csl-entry">
Morris, Tim P., Ian R. White, and Michael J. Crowther. 2019. <span>“Using Simulation Studies to Evaluate Statistical Methods.”</span> <em>Statistics in Medicine</em> 38 (11): 2074–2102.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Edouard F. Bonneville, Matthieu Resche-Rigon, Johannes Schetelig, Hein Putter, Liesbeth C. de Wreede.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
